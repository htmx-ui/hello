<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accordion Test</title>
    <script src="./assets/js/hyperscript.js"></script>
    <link rel="stylesheet" href="./assets/css/tailwindcss.css">
    <link rel="stylesheet" href="./assets/css/scroll.css">
</head>
<body class="dark bg-background text-foreground p-8">
    <h1 class="text-2xl font-bold mb-4">Accordion Test</h1>
    
    <div class="max-w-md">
        <div class="border-b">
            <h3 class="flex">
                <button
                    type="button"
                    class="flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline"
                    _="on click 
                        if my @data-state equals 'open'
                            set my @data-state to 'closed'
                            add .hidden to #content-1
                            remove .rotate-180 from <svg/>
                        else
                            set my @data-state to 'open'
                            remove .hidden from #content-1
                            add .rotate-180 to <svg/>
                        end">
                    Accordion Item #1
                    <svg
                        width="15"
                        height="15"
                        viewBox="0 0 15 15"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200 rotate-180">
                        <path
                            d="M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z"
                            fill="currentColor"
                            fill-rule="evenodd"
                            clip-rule="evenodd"></path>
                    </svg>
                </button>
            </h3>
            <div
                id="content-1"
                class="overflow-hidden text-sm transition-all duration-300 ease-in-out accordion-content-open">
                <div class="pb-4 pt-0">
                    This is the content of the first accordion item. It has a smooth animation when expanding and collapsing.
                </div>
            </div>
        </div>
        
        <div class="border-b">
            <h3 class="flex">
                <button
                    type="button"
                    class="flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline"
                    _="on click 
                        if my @data-state equals 'open'
                            set my @data-state to 'closed'
                            add .hidden to #content-2
                            remove .rotate-180 from <svg/>
                            set #content-2.className to 'overflow-hidden text-sm transition-all duration-300 ease-in-out accordion-content-closed'
                        else
                            set my @data-state to 'open'
                            remove .hidden from #content-2
                            add .rotate-180 to <svg/>
                            set #content-2.className to 'overflow-hidden text-sm transition-all duration-300 ease-in-out accordion-content-open'
                        end">
                    Accordion Item #2
                    <svg
                        width="15"
                        height="15"
                        viewBox="0 0 15 15"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200">
                        <path
                            d="M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z"
                            fill="currentColor"
                            fill-rule="evenodd"
                            clip-rule="evenodd"></path>
                    </svg>
                </button>
            </h3>
            <div
                id="content-2"
                class="overflow-hidden text-sm transition-all duration-300 ease-in-out accordion-content-closed hidden">
                <div class="pb-4 pt-0">
                    This is the content of the second accordion item. It also has smooth animations.
                </div>
            </div>
        </div>
    </div>
    
    <div class="mt-8 max-w-2xl">
        <h2 class="text-xl font-semibold mb-4">Hyperscript Logic Example</h2>
        <div class="relative rounded-md bg-muted p-4 font-mono text-sm overflow-x-auto">
            <pre class="whitespace-pre-wrap break-words"><code>_="on click 
  if @aria-expanded equals 'true'
    set @aria-expanded to 'false' 
    set @data-state to 'closed'
    add .hidden to #content-id
    remove .rotate-180 from <svg/>
  else
    set @aria-expanded to 'true' 
    set @data-state to 'open'
    remove .hidden from #content-id
    add .rotate-180 to <svg/>
    for otherTrigger in <button:not(#trigger-id)/>
      set otherTrigger@aria-expanded to 'false'
      set otherTrigger@data-state to 'closed'
      add .hidden to <div[id^='accordion-content-']:not(#content-id)/>
      remove .rotate-180 from <svg/>
    end
  end"</code></pre>
        </div>
    </div>
</body>
</html>